<h1>Route Margins</h1>

<%= form_for MailRoute.new, :url => "mail_routes/find" do |f| %>
  <div class="field">
    <%= f.label :to_id %><br>
    <%= f.collection_select :to_id, Location.all, :id, :name %>
  </div>
  <div class="field">
    <%= f.label :from_id %><br>
    <%= f.collection_select :from_id, Location.all, :id, :name %>
  </div>
  <div class="field">
    <%= f.label :priority_id %><br>
    <%= f.collection_select :priority_id, Priority.all, :id, :name %>
  </div>
  <%= submit_tag "Find", :name => nil %>
<%- end %>

<table>
  <thead>
    <tr>
	  <th>From</th>
      <th>To</th>
      <th>Margin</th>
      <th>Priority</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>

  <tbody>
    <% @mail_routes.each do |mail_route| %>
      <tr>
		<td><%= mail_route.from_location.name %></td>
        <td><%= mail_route.to_location.name %></td>
        <td><%= mail_route.margin %></td>
        <td><%= mail_route.priority.name %></td>
        <td><%= link_to 'Show', mail_route %></td>
        <td><%= link_to 'Edit', edit_mail_route_path(mail_route) %></td>
        <td><%= link_to 'Destroy', mail_route, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>
